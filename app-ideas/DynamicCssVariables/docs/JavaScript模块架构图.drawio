<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="5.0" etag="xxx" version="22.1.16" type="device">
  <diagram name="JavaScript模块架构图" id="architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- 标题 -->
        <mxCell id="title" value="动态CSS变量登录表单 - JavaScript模块架构图" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="400" height="30" as="geometry" />
        </mxCell>
        
        <!-- 常量定义模块 -->
        <mxCell id="constants" value="常量定义模块&#xa;&#xa;VALID_CREDENTIALS&#xa;{ userId: 'testuser',&#xa;  password: 'mypassword' }" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- 状态管理模块 -->
        <mxCell id="state" value="状态管理模块&#xa;&#xa;formState: {&#xa;  userId: {value, status},&#xa;  password: {value, status}&#xa;}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="50" y="220" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- 防抖定时器 -->
        <mxCell id="debounce" value="防抖定时器&#xa;&#xa;debounceTimer&#xa;(300ms延迟)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="50" y="340" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- 输入验证模块 -->
        <mxCell id="validation" value="输入验证模块&#xa;&#xa;validateInput()&#xa;validateCredentials()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="300" y="100" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- 状态更新模块 -->
        <mxCell id="statusUpdate" value="状态更新模块&#xa;&#xa;updateInputStatus()&#xa;showErrorMessage()&#xa;showSuccessMessage()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="300" y="220" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- 表单操作模块 -->
        <mxCell id="formOps" value="表单操作模块&#xa;&#xa;resetForm()&#xa;handleCancel()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="300" y="340" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- 事件处理模块 -->
        <mxCell id="events" value="事件处理模块&#xa;&#xa;handleInput()&#xa;handleSubmit()&#xa;init()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f3ff;strokeColor=#0078d4;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="550" y="160" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- DOM元素 -->
        <mxCell id="dom" value="DOM元素&#xa;&#xa;loginForm&#xa;userIdInput&#xa;passwordInput&#xa;cancelBtn&#xa;loginError&#xa;statusMessage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#666666;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="800" y="160" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- CSS样式 -->
        <mxCell id="css" value="CSS样式&#xa;&#xa;.input-warning&#xa;.input-error&#xa;.show&#xa;.success" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="800" y="280" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- 连接线 -->
        
        <!-- 常量到验证 -->
        <mxCell id="edge1" edge="1" parent="1" source="constants" target="validation" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9673a6;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 状态管理到状态更新 -->
        <mxCell id="edge2" edge="1" parent="1" source="state" target="statusUpdate" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 防抖到事件处理 -->
        <mxCell id="edge3" edge="1" parent="1" source="debounce" target="events" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d6b656;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 验证到状态更新 -->
        <mxCell id="edge4" edge="1" parent="1" source="validation" target="statusUpdate" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 状态更新到表单操作 -->
        <mxCell id="edge5" edge="1" parent="1" source="statusUpdate" target="formOps" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#b85450;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 事件处理到DOM -->
        <mxCell id="edge6" edge="1" parent="1" source="events" target="dom" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#0078d4;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 状态更新到CSS -->
        <mxCell id="edge7" edge="1" parent="1" source="statusUpdate" target="css" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#b85450;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 表单操作到状态管理 -->
        <mxCell id="edge8" edge="1" parent="1" source="formOps" target="state" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d79b00;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 事件处理到验证 -->
        <mxCell id="edge9" edge="1" parent="1" source="events" target="validation" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#0078d4;">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 标签 -->
        
        <!-- 数据流标签 -->
        <mxCell id="label1" value="提供验证凭据" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="200" y="130" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label2" value="状态数据" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="200" y="250" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label3" value="防抖控制" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="200" y="370" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label4" value="验证结果" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="450" y="130" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label5" value="状态同步" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="450" y="250" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label6" value="事件绑定" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#0078d4;" vertex="1" parent="1">
          <mxGeometry x="700" y="180" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label7" value="样式应用" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="700" y="300" width="80" height="20" as="geometry" />
        </mxCell>
        
        <!-- 流程说明 -->
        <mxCell id="flow1" value="1. 用户输入 → 防抖处理 → 实时验证 → 状态更新 → CSS样式" style="text;html=1;strokeColor=none;fillColor=#f0f0f0;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="50" y="460" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="flow2" value="2. 表单提交 → 完整验证 → 凭据检查 → 结果显示 → 状态重置" style="text;html=1;strokeColor=none;fillColor=#f0f0f0;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="50" y="500" width="400" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="flow3" value="3. 取消操作 → 表单重置 → 状态恢复 → 样式清除" style="text;html=1;strokeColor=none;fillColor=#f0f0f0;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="50" y="540" width="400" height="30" as="geometry" />
        </mxCell>
        
        <!-- 模块说明 -->
        <mxCell id="legend" value="模块说明：&#xa;• 紫色：常量定义&#xa;• 绿色：状态管理&#xa;• 黄色：防抖控制&#xa;• 蓝色：验证逻辑&#xa;• 红色：状态更新&#xa;• 橙色：表单操作&#xa;• 深蓝：事件处理&#xa;• 灰色：外部依赖" style="text;html=1;strokeColor=none;fillColor=#f8f8f8;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="500" y="460" width="200" height="120" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
